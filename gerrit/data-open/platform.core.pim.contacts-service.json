{"project":"platform/core/pim/contacts-service","branch":"tizen","id":"I1b7473384b7ab85bdbb035b12360c0472da31565","number":"15434","subject":"Fix PTREL-619","owner":{"name":"Donghee Ye","email":"donghee.ye@samsung.com","username":"donghee"},"url":"https://review.tizen.org/gerrit/15434","commitMessage":"Fix PTREL-619\n\nAs I know, SMACK mechanism is totally changing in Tizen 3.0.\nNow, SmackLabelIPIn/Out is not needed to access control.\nAfter deciding SMACK architecture of Tizen 3.0\n  we should add feature for it.\n\nChange-Id: I1b7473384b7ab85bdbb035b12360c0472da31565\n","createdOn":1390290039,"lastUpdated":1415277675,"sortKey":"0030f1d900003c4a","open":true,"status":"NEW","comments":[{"timestamp":1390290039,"reviewer":{"name":"Donghee Ye","email":"donghee.ye@samsung.com","username":"donghee"},"message":"Uploaded patch set 1."},{"timestamp":1390294082,"reviewer":{"name":"Chengwei Yang","email":"chengwei.yang@intel.com","username":"chengwei"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1390302905,"reviewer":{"name":"Donghee Ye","email":"donghee.ye@samsung.com","username":"donghee"},"message":"Patch Set 1: Verified+1"},{"timestamp":1415273077,"reviewer":{"name":"Nicolas Zingilé","email":"nicolas.zingile@open.eurogiciel.org","username":"nzingile"},"message":"Patch Set 1: Code-Review+1 Verified+1"},{"timestamp":1415277675,"reviewer":{"name":"Baptiste DURAND","email":"baptiste.durand@open.eurogiciel.org","username":"durandba1"},"message":"Patch Set 1: Code-Review+1"}]}
{"project":"platform/core/pim/contacts-service","branch":"tizen","id":"Iaace4e98ce8a08114b1fb2a326339ab6eb752fa5","number":"27753","subject":"use rpm macro for systemd path,  remove hard coded systemd path","owner":{"name":"ronan(Eurogiciel) Le Martret","email":"ronan.lemartret@open.eurogiciel.org","username":"ronan"},"url":"https://review.tizen.org/gerrit/27753","commitMessage":"use rpm macro for systemd path,  remove hard coded systemd path\n\n * improve rpmlint score\n\nChange-Id: Iaace4e98ce8a08114b1fb2a326339ab6eb752fa5\nSigned-off-by: Ronan Le Martret \u003cronan@fridu.net\u003e\n","createdOn":1411048724,"lastUpdated":1411740886,"sortKey":"00300b9600006c69","open":true,"status":"NEW","comments":[{"timestamp":1411048724,"reviewer":{"name":"ronan(Eurogiciel) Le Martret","email":"ronan.lemartret@open.eurogiciel.org","username":"ronan"},"message":"Uploaded patch set 1."},{"timestamp":1411054345,"reviewer":{"name":"Kévin THIERRY","email":"kevin.thierry@eurogiciel.fr","username":"kthierry"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1411740886,"reviewer":{"name":"ronan(Eurogiciel) Le Martret","email":"ronan.lemartret@open.eurogiciel.org","username":"ronan"},"message":"Patch Set 1: Verified+1 Code-Review+1"}]}
{"project":"platform/core/pim/contacts-service","branch":"tizen","id":"Id942f8d6b270a6e1094094935caa2f538a96d8fb","number":"15398","subject":"Add new _contacts_person_address view.","owner":{"name":"Gustavo Lima Chaves","email":"gustavo.lima.chaves@intel.com","username":"limachaves"},"url":"https://review.tizen.org/gerrit/15398","commitMessage":"Add new _contacts_person_address view.\n\nTo ease the access to address data associated to a person, we\u0027re\nintroducing a new public, read only view named\n_contacts_person_address.\n\nChange-Id: Id942f8d6b270a6e1094094935caa2f538a96d8fb\nSigned-off-by: Gustavo Lima Chaves \u003cgustavo.lima.chaves@intel.com\u003e\n","createdOn":1390240855,"lastUpdated":1391570096,"sortKey":"002aea6200003c26","open":true,"status":"NEW","comments":[{"timestamp":1390240855,"reviewer":{"name":"Gustavo Lima Chaves","email":"gustavo.lima.chaves@intel.com","username":"limachaves"},"message":"Uploaded patch set 1."},{"timestamp":1390302674,"reviewer":{"name":"Donghee Ye","email":"donghee.ye@samsung.com","username":"donghee"},"message":"Patch Set 1: Code-Review-2\n\nFor supporting this view_uri, we should create DB VIEW. Whenever connecting client, server creates a thread and open db file to control requests of client. The larger DB size is, the larger memory will be needed. Our opinion is \"Until there are obvious requirements of new view_uri, we do not add it as far as possible\". If it is expected that new view_uri is frequently used, we should add it. But now we do not think so."},{"timestamp":1390322383,"reviewer":{"name":"Gustavo Lima Chaves","email":"gustavo.lima.chaves@intel.com","username":"limachaves"},"message":"Patch Set 1:\n\nSorry, but that\u0027s not reasonable. I have sqlite\u0027s source code opened here and all it tells me a view creation does is a malloc() on the size of a query struct. Views are just saved queries that are automatically launched when called for, in sqlite -- no pre table creation involved.\n\nMoreover, we\u0027re exposing new views that are very useful for the contacts-service user, views that, as you said, have already created counterparts.\n\nBecause no Tizen component uses it yet is not a stopper for this, sorry. The views have justified validity, and we have been testing and using then extensivelly.\n\nElementary got lots of badly tested, badly designed components by Tizen people and they got in because they had commiters upstream. Not our case here, we\u0027re kindly justifying our stuff :)\n\nPlease reconsider."},{"timestamp":1390791494,"reviewer":{"name":"Donghee Ye","email":"donghee.ye@samsung.com","username":"donghee"},"message":"Patch Set 1:\n\nI measured memory usage with sample code. I did not use contacts-service API.\n\nDB 1. It has only real tables (No contact data)\nDB 2. It has real tables and views (No contact data)\n\nstep 1. create 5 threads (Because contacts-service daemon create a thread for a client) \nstep 2. open DB handle of DB 1 in each thread. \nstep 3. do select query to contact table \nstep 4. check memory usage of the process \n\n(Repeat DB 2) In case of using DB 2, memory usage is higher about 400KB.\n\nIf do not step3, memory usage is similar. But, client probably will do db query.\n----------------------------------------------------------\n\nAdditionally, Core contacts-service API is not for 3rd party developer. OSP/Web API should be added for 3rd party.\n\n_CONTACTS_BEGIN_READ_ONLY_VIEW _contacts_person_number is usually used \n1. to get all number list with person info \n2. or to find person who has the number (filter)\n3. or to get number list of a person(filter).\n_contacts_person_email has similar usages.\nIn other words, these are useally used to find proper receiver to send message/email or call based on number/email.\n\nYou said, \"The views have justified validity, and we have been testing and using then extensivelly.\"\nDo you explain more detail usages?"},{"timestamp":1391025064,"reviewer":{"name":"Leandro Dorileo","email":"leandro.maciel.dorileo@intel.com","username":"dorileo"},"message":"Patch Set 1:\n\nFrom the contacts-service user point of view using this db view is much easier and requires an smaller number of calls to contacts-service.\n\nWith the current implementation we should:\n1) query for CTSVC_DB_VIEW_PERSON_CONTACT filtering by the person id;\n2) query for CTSVC_DB_VIEW_ADDRESS filtering by the contact id we got in the first query;\n\nWith the proposed patch we just do:\n1) query for CTSVC_DB_VIEW_PERSON_ADDRESS filtering by the person id;\n\nPlease, tell me if I\u0027m missing something here, am I missing any referential integrity constraint already present in this database?\n\nI understand that with a single call to contacts-service will result in better performance - or at least a better resource usage - than doing so twice.\n\nAbout your tests, I would like to better understand it. Are you suggesting that by simply adding a view in the database we\u0027ll increase the memory usage?\nAre you testing the proposed view or any other view? What are you comparing? How could your test help us if you\u0027re not using the contacts service API (query + filter, etc)?\n\nShouldn\u0027t we consider an improvement in the contacts-service itself? Are we sure your problem is not related to any contacts-service internal scalability issue?\nNot knowing your test cases we can not infer too much.\n\nCould you please share your test source code so we can better understand you test cases?\n\nRegards..."},{"timestamp":1391569907,"reviewer":{"name":"Donghee Ye","email":"donghee.ye@samsung.com","username":"donghee"},"message":"Patch Set 1:\n\nThe meaning I mentioned is that the more DB view is, the larger memory will be needed. And many views can make developers are confused.\n\nThat is way we set the policy \"Until there are obvious requirements of new view, our opinion is not to add it as far as possible\".\n\n\nI looked title of your gerrit patches.\n\n    Add new views :\n         _contacts_person_address, _contacts_person_event, _contacts_person_company, _contacts_person_messenger, _contacts_person_nickname, _contacts_person_url, _contacts_person_unknown\n\nI\u0027m concerned whether or not new views are used much.\n\n\nIf developer wants to get only address information of the person(person_id), _contacts_person_address is useful.\n\nFor example, _contacts_person_number is used\n\n    to get number information of particular person \n\n          [ Message app ]\n\n        1. select a person\n\n        2. popup number list of the person\n\n        3. select a number\n\n        4. added as recipient \n\n    to get person list which are included seach string as number\n\n          [ Message app ]\n\n        1. enter digit\n\n        2. pull-down person list with number including the digit\n\n\nBut, generally, address, company, url and etc. except number or email address, does not used independently.\n\nOnce querying to _contacts_contact by the person_id, then developer can get all information.\n\nOn the other hand, if developer uses new view, developer should query several times to each view :\n\n     _contacts_person_number, _contacts_person_email, _contacts_person_address,  _contacts_person_company, _contacts_person_nickname, _contacts_person_url, _contacts_person_event."},{"timestamp":1391570096,"reviewer":{"name":"Donghee Ye","email":"donghee.ye@samsung.com","username":"donghee"},"message":"Patch Set 1:\n\nI check RSS memory using ps utility.\n\nDB 1. It has only real DB tables (there is no contact info)\n\n    \u003d\u003e You can get the DB file in contacts-service2 rpm package\n\nDB 2. It has real DB tables and DB views (there is no contact info)\n\n    \u003d\u003e You can get the DB file in target after first launching contacts-service-ipcd.\n\n       It is included not proposed views but current views.\n\n       I would like to test that more view is, more memory is needed.\n\n       Current views are added by requirements of app developer.\n\nI will send test code by e-mail."}]}
{"project":"platform/core/pim/contacts-service","branch":"tizen","id":"I5dd8549801526e7c003f27787f7ea3ee527632c5","number":"15385","subject":"Fix : error to set name_contact_id of person when unlinking if all contact of person has unknown display_name","owner":{"name":"Donghee Ye","email":"donghee.ye@samsung.com","username":"donghee"},"url":"https://review.tizen.org/gerrit/15385","commitMessage":"Fix : error to set name_contact_id of person when unlinking if all contact of person has unknown display_name\n\nChange-Id: I5dd8549801526e7c003f27787f7ea3ee527632c5\n","createdOn":1390216261,"lastUpdated":1390273813,"sortKey":"002a95fe00003c19","open":true,"status":"NEW","comments":[{"timestamp":1390216261,"reviewer":{"name":"Donghee Ye","email":"donghee.ye@samsung.com","username":"donghee"},"message":"Uploaded patch set 1."},{"timestamp":1390273813,"reviewer":{"name":"Donghee Ye","email":"donghee.ye@samsung.com","username":"donghee"},"message":"Patch Set 1: Verified+1"}]}
{"project":"platform/core/pim/contacts-service","branch":"tizen","id":"I2af5d55199dfd2f8a11815985dd99bcf70760173","number":"15384","subject":"Fix typing error","owner":{"name":"Donghee Ye","email":"donghee.ye@samsung.com","username":"donghee"},"url":"https://review.tizen.org/gerrit/15384","commitMessage":"Fix typing error\n\nChange-Id: I2af5d55199dfd2f8a11815985dd99bcf70760173\n","createdOn":1390214882,"lastUpdated":1390273797,"sortKey":"002a95fd00003c18","open":true,"status":"NEW","comments":[{"timestamp":1390214882,"reviewer":{"name":"Donghee Ye","email":"donghee.ye@samsung.com","username":"donghee"},"message":"Uploaded patch set 1."},{"timestamp":1390273797,"reviewer":{"name":"Donghee Ye","email":"donghee.ye@samsung.com","username":"donghee"},"message":"Patch Set 1: Verified+1"}]}
{"project":"platform/core/pim/contacts-service","branch":"tizen","id":"I94a9286ada7cc560671376f3c399d84071318351","number":"15406","subject":"_contacts_person_{messenger,email,number} views must reach unknown ones too.","owner":{"name":"Gustavo Lima Chaves","email":"gustavo.lima.chaves@intel.com","username":"limachaves"},"url":"https://review.tizen.org/gerrit/15406","commitMessage":"_contacts_person_{messenger,email,number} views must reach unknown ones too.\n\nNow that CTSVC_DB_VIEW_PERSON_CONTACT_INCLUDE_UNKNOWN was created, let\nthese helper views be populated from it instead, rising their\nusefulness.\n\nSince most use cases of those views is to query for specific contact\nIDs with filters, it should not bother anyone not dealing with\nis_unknown-marked contacts.\n\nChange-Id: I94a9286ada7cc560671376f3c399d84071318351\nSigned-off-by: Gustavo Lima Chaves \u003cgustavo.lima.chaves@intel.com\u003e\n","createdOn":1390240855,"lastUpdated":1390240855,"sortKey":"002a93d800003c2e","open":true,"status":"NEW","comments":[{"timestamp":1390240855,"reviewer":{"name":"Gustavo Lima Chaves","email":"gustavo.lima.chaves@intel.com","username":"limachaves"},"message":"Uploaded patch set 1."}]}
{"project":"platform/core/pim/contacts-service","branch":"tizen","id":"I538edda3779fd144b3f0b01e5df40f2344595af3","number":"15405","subject":"Add new _contacts_person_unknown view.","owner":{"name":"Gustavo Lima Chaves","email":"gustavo.lima.chaves@intel.com","username":"limachaves"},"url":"https://review.tizen.org/gerrit/15405","commitMessage":"Add new _contacts_person_unknown view.\n\nTo ease the access of unknown contacts/persons, we\u0027re introducing a\nnew public, read only view named _contacts_person_unknown.\n\nChange-Id: I538edda3779fd144b3f0b01e5df40f2344595af3\nSigned-off-by: Gustavo Lima Chaves \u003cgustavo.lima.chaves@intel.com\u003e\n","createdOn":1390240855,"lastUpdated":1390240855,"sortKey":"002a93d800003c2d","open":true,"status":"NEW","comments":[{"timestamp":1390240855,"reviewer":{"name":"Gustavo Lima Chaves","email":"gustavo.lima.chaves@intel.com","username":"limachaves"},"message":"Uploaded patch set 1."}]}
{"project":"platform/core/pim/contacts-service","branch":"tizen","id":"Ia26c301ff1ffe6b45a6743250b0f98a8017c7142","number":"15404","subject":"Add \u0027unknown\u0027 contacts concept/feature (and filters for it).","owner":{"name":"Gustavo Lima Chaves","email":"gustavo.lima.chaves@intel.com","username":"limachaves"},"url":"https://review.tizen.org/gerrit/15404","commitMessage":"Add \u0027unknown\u0027 contacts concept/feature (and filters for it).\n\n* add \u0027is_unknown\u0027 field to contact/person DB entries:\n\nAdd is_unknown support to contacts-service2. This patch introduces the\nthe basic infrastructure and the \u0027db_plugin_contact\u0027 support to\ninsert/select the aforementioned field of contacts/persons. The field\nis designed to flag contacts which were not *actively* added into the\ncontacts database by an user, but rather by an application by which\nthe user was contacted, from a contact (number, email, etc) not yet\npresent on the contacts pristine listing.\n\n* filter out all the unknown contacts:\n\nChange all the queries used for listing contacts to filter out the\nunknown contacts. List just those included by the user. This way, the\npatch is totally no intrusive to anyone not willing to query/deal with\nunknown contacts.\n\n* introduce a contact view including unknown contacts\n\nAdd a new database view to select all contacts, including the unknown\nones.\n\n* introduce a person view including unknown contacts\n\nThe same function as above, but on person level, not contacts.\n\nContacts marked with \u0027is_unknown\u0027 not zero get an integer on the\nfield, representing the time of its creation. A service (or similar\npiece of code) can be run from time to time, dumping unknown contacts\nolder than a specified amount of time, if need be.\n\nChange-Id: Ia26c301ff1ffe6b45a6743250b0f98a8017c7142\nSigned-off-by: Gustavo Lima Chaves \u003cgustavo.lima.chaves@intel.com\u003e\n","createdOn":1390240855,"lastUpdated":1390240855,"sortKey":"002a93d800003c2c","open":true,"status":"NEW","comments":[{"timestamp":1390240855,"reviewer":{"name":"Gustavo Lima Chaves","email":"gustavo.lima.chaves@intel.com","username":"limachaves"},"message":"Uploaded patch set 1."}]}
{"project":"platform/core/pim/contacts-service","branch":"tizen","id":"I707df36bf4ac11bf83f115f1ca4454c9dd315a22","number":"15403","subject":"Add new _contacts_person_event view.","owner":{"name":"Gustavo Lima Chaves","email":"gustavo.lima.chaves@intel.com","username":"limachaves"},"url":"https://review.tizen.org/gerrit/15403","commitMessage":"Add new _contacts_person_event view.\n\nTo ease the access to event data associated to a person, we\u0027re\nintroducing a new public, read only view named _contacts_person_event.\n\nChange-Id: I707df36bf4ac11bf83f115f1ca4454c9dd315a22\nSigned-off-by: Gustavo Lima Chaves \u003cgustavo.lima.chaves@intel.com\u003e\n","createdOn":1390240855,"lastUpdated":1390240855,"sortKey":"002a93d800003c2b","open":true,"status":"NEW","comments":[{"timestamp":1390240855,"reviewer":{"name":"Gustavo Lima Chaves","email":"gustavo.lima.chaves@intel.com","username":"limachaves"},"message":"Uploaded patch set 1."}]}
{"project":"platform/core/pim/contacts-service","branch":"tizen","id":"Icf84afef6f9261efdc330bb0d31ad29aaa4fb89a","number":"15402","subject":"Add new _contacts_person_messenger view.","owner":{"name":"Gustavo Lima Chaves","email":"gustavo.lima.chaves@intel.com","username":"limachaves"},"url":"https://review.tizen.org/gerrit/15402","commitMessage":"Add new _contacts_person_messenger view.\n\nTo ease the access to messenger data associated to a person, we\u0027re\nintroducing a new public, read only view named\n_contacts_person_messenger.\n\nChange-Id: Icf84afef6f9261efdc330bb0d31ad29aaa4fb89a\nSigned-off-by: Gustavo Lima Chaves \u003cgustavo.lima.chaves@intel.com\u003e\n","createdOn":1390240855,"lastUpdated":1390240855,"sortKey":"002a93d800003c2a","open":true,"status":"NEW","comments":[{"timestamp":1390240855,"reviewer":{"name":"Gustavo Lima Chaves","email":"gustavo.lima.chaves@intel.com","username":"limachaves"},"message":"Uploaded patch set 1."}]}
{"project":"platform/core/pim/contacts-service","branch":"tizen","id":"I5b7fe047c25b516e56427db5f47dbfe7a635cc98","number":"15401","subject":"Add new _contacts_person_nickname view.","owner":{"name":"Gustavo Lima Chaves","email":"gustavo.lima.chaves@intel.com","username":"limachaves"},"url":"https://review.tizen.org/gerrit/15401","commitMessage":"Add new _contacts_person_nickname view.\n\nTo ease the access to nickname data associated to a person, we\u0027re\nintroducing a new public, read only view named\n_contacts_person_nickname.\n\nChange-Id: I5b7fe047c25b516e56427db5f47dbfe7a635cc98\nSigned-off-by: Gustavo Lima Chaves \u003cgustavo.lima.chaves@intel.com\u003e\n","createdOn":1390240855,"lastUpdated":1390240855,"sortKey":"002a93d800003c29","open":true,"status":"NEW","comments":[{"timestamp":1390240855,"reviewer":{"name":"Gustavo Lima Chaves","email":"gustavo.lima.chaves@intel.com","username":"limachaves"},"message":"Uploaded patch set 1."}]}
{"project":"platform/core/pim/contacts-service","branch":"tizen","id":"I2e844e37c275b6e1e934fdd1f783e55321caa560","number":"15400","subject":"Add new _contacts_person_url view.","owner":{"name":"Gustavo Lima Chaves","email":"gustavo.lima.chaves@intel.com","username":"limachaves"},"url":"https://review.tizen.org/gerrit/15400","commitMessage":"Add new _contacts_person_url view.\n\nTo ease the access to url data associated to a person, we\u0027re\nintroducing a new public, read only view named _contacts_person_url.\n\nChange-Id: I2e844e37c275b6e1e934fdd1f783e55321caa560\nSigned-off-by: Gustavo Lima Chaves \u003cgustavo.lima.chaves@intel.com\u003e\n","createdOn":1390240855,"lastUpdated":1390240855,"sortKey":"002a93d800003c28","open":true,"status":"NEW","comments":[{"timestamp":1390240855,"reviewer":{"name":"Gustavo Lima Chaves","email":"gustavo.lima.chaves@intel.com","username":"limachaves"},"message":"Uploaded patch set 1."}]}
{"project":"platform/core/pim/contacts-service","branch":"tizen","id":"I645c222fd85e31045bfc00c4e369b777de1a5b7e","number":"15399","subject":"Add new _contacts_person_company view.","owner":{"name":"Gustavo Lima Chaves","email":"gustavo.lima.chaves@intel.com","username":"limachaves"},"url":"https://review.tizen.org/gerrit/15399","commitMessage":"Add new _contacts_person_company view.\n\nTo ease the access to company data associated to a person, we\u0027re\nintroducing a new public, read only view named\n_contacts_person_company.\n\nChange-Id: I645c222fd85e31045bfc00c4e369b777de1a5b7e\nSigned-off-by: Gustavo Lima Chaves \u003cgustavo.lima.chaves@intel.com\u003e\n","createdOn":1390240855,"lastUpdated":1390240855,"sortKey":"002a93d800003c27","open":true,"status":"NEW","comments":[{"timestamp":1390240855,"reviewer":{"name":"Gustavo Lima Chaves","email":"gustavo.lima.chaves@intel.com","username":"limachaves"},"message":"Uploaded patch set 1."}]}
{"project":"platform/core/pim/contacts-service","branch":"tizen","id":"I03ee637eb1e1a0525b7b6722a48ff0a9a3b271b4","number":"15356","subject":"Change number matching rule","owner":{"name":"Donghee Ye","email":"donghee.ye@samsung.com","username":"donghee"},"url":"https://review.tizen.org/gerrit/15356","commitMessage":"Change number matching rule\n\nUntil now, we used last 8 digits(default) to match numbers.\nIf there are number +82 10 1234 5678 and +33 10 1234 5678,\n then these numbers are same by current logic.\nWe improve number matching logic that compare using\n international prefix and country code also.\nIt is also applied to call-log number.\n\nChange-Id: I03ee637eb1e1a0525b7b6722a48ff0a9a3b271b4\n","createdOn":1390201330,"lastUpdated":1390201330,"sortKey":"002a914600003bfc","open":true,"status":"NEW","comments":[{"timestamp":1390201330,"reviewer":{"name":"Donghee Ye","email":"donghee.ye@samsung.com","username":"donghee"},"message":"Uploaded patch set 1."}]}
{"project":"platform/core/pim/contacts-service","branch":"tizen","id":"I4077acf9dd123d3c8186db06b55f3fc1eea2ecc8","number":"15237","subject":"Refactoring localize/normalize logic","owner":{"name":"Donghee Ye","email":"donghee.ye@samsung.com","username":"donghee"},"url":"https://review.tizen.org/gerrit/15237","commitMessage":"Refactoring localize/normalize logic\n\nChange-Id: I4077acf9dd123d3c8186db06b55f3fc1eea2ecc8\n","createdOn":1389942176,"lastUpdated":1389942176,"sortKey":"002a806600003b85","open":true,"status":"NEW","comments":[{"timestamp":1389942176,"reviewer":{"name":"Donghee Ye","email":"donghee.ye@samsung.com","username":"donghee"},"message":"Uploaded patch set 1."}]}
