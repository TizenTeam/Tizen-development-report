{"project":"platform/core/api/sensor","branch":"tizen","id":"I26935ec89f2eef151ee39106d4c5d5e28600aab1","number":"15048","subject":"Report correct version in .pc file (pkg-config)","owner":{"name":"Manuel Bachmann","email":"manuel.bachmann@open.eurogiciel.org","username":"mbachmann"},"url":"https://review.tizen.org/gerrit/15048","commitMessage":"Report correct version in .pc file (pkg-config)\n\nCurrent package version is not reported, which makes\nbuilding EFL 1.8 with \"--enable-tizen\" fail.\n\nFix the build files.\n\nBug-Tizen: TIVI-2597\nChange-Id: I26935ec89f2eef151ee39106d4c5d5e28600aab1\nSigned-off-by: Manuel Bachmann \u003cmanuel.bachmann@open.eurogiciel.org\u003e\n","createdOn":1389780201,"lastUpdated":1395222302,"sortKey":"002bd82900003ac8","open":true,"status":"NEW","comments":[{"timestamp":1389780201,"reviewer":{"name":"Manuel Bachmann","email":"manuel.bachmann@open.eurogiciel.org","username":"mbachmann"},"message":"Uploaded patch set 1."},{"timestamp":1389781555,"reviewer":{"name":"Kévin THIERRY","email":"kevin.thierry@eurogiciel.fr","username":"kthierry"},"message":"Patch Set 1: Code-Review+1\n\n(1 comment)"},{"timestamp":1389781638,"reviewer":{"name":"Baptiste (DO NOT USE) DURAND (DO NOT USE)","email":"baptiste.durand@eurogiciel.fr","username":"durandba"},"message":"Patch Set 1: Verified+1 Code-Review+1"},{"timestamp":1394616544,"reviewer":{"name":"Philippe Coval","email":"philippe.coval@open.eurogiciel.org","username":"pcoval"},"message":"Patch Set 2: Commit message was updated"},{"timestamp":1395171059,"reviewer":{"name":"Stéphane Desneux (sdesneux - DONTUSE)","email":"stephane.desneux@eurogiciel.fr","username":"sdesneux"},"message":"Patch Set 2: Code-Review-1\n\nRepeating the version number in the CMakelist.txt is a bad idea.\n\nThe initial version doesn\u0027t work correctly but has the good steps:\n- in the spec file, cmake is invoked with -DFULLVER\u003d%{version} (%{version} is the version specified in the spec \u003d 0.1.17)\n- in CMakelists.txt: the VERSION property is set with ${FULLVER} (but not with a SET() call)\n- in capi-system-sensor.pc.in: @VERSION@ is used to generate the correct version number\n\nSo there\u0027s no need to change everything. It works by adding:\n   SET(VERSION,${FULLVER})\nat the top of the CMakelist.txt\n\nor alternatively, use @FULLVER@ in .pc.in (not tested)\n\nNB: other capi packages may also have the same bug as the packaging/cmakelists etc seem similar..."},{"timestamp":1395222302,"reviewer":{"name":"Philippe Coval","email":"philippe.coval@open.eurogiciel.org","username":"pcoval"},"message":"Patch Set 2:\n\nFYI, I think current version of sensor (without this change) builds fine with elf-1.8 and efl-1.9.1 ... \n\nCan anyone confirm"}]}
