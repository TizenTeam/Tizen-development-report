{"project":"platform/upstream/system-installer","branch":"tizen","id":"I5a337b99fce7cb93417341c35368948e872990a9","number":"10738","subject":"system-installer: improve options handling","owner":{"name":"Artem Bityutskiy","email":"artem.bityutskiy@linux.intel.com","username":"dedekind"},"url":"https://review.tizen.org/gerrit/10738","commitMessage":"system-installer: improve options handling\n\n* Move options handling down, to where all the code starts.\n* Make it a bit more general, this will make it easier adding more options\n  later.\n* Add -h option and implement help text.\n* Print nice error message in an unsupported option is given, plus print help\n  text. The error message will be prefixed with program name.\n* Handle \"--\" separator too.\n\nChange-Id: I5a337b99fce7cb93417341c35368948e872990a9\nSigned-off-by: Artem Bityutskiy \u003cartem.bityutskiy@linux.intel.com\u003e\n","createdOn":1381394370,"lastUpdated":1396489266,"sortKey":"002c2aa5000029f2","open":false,"status":"MERGED","comments":[{"timestamp":1381438348,"reviewer":{"name":"Patrick McCarty","email":"patrick.mccarty@linux.intel.com","username":"pmccarty"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1381439660,"reviewer":{"name":"william douglas","email":"william.douglas@intel.com","username":"wdouglas"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1381473371,"reviewer":{"name":"Jacek Pielaszkiewicz","email":"j.pielaszkie@samsung.com","username":"jpielaszkie"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1382043405,"reviewer":{"name":"Patrick McCarty","email":"patrick.mccarty@linux.intel.com","username":"pmccarty"},"message":"Patch Set 1: Code-Review+2"},{"timestamp":1382063937,"reviewer":{"name":"Chengwei Yang","email":"chengwei.yang@intel.com","username":"chengwei"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1382078149,"reviewer":{"name":"Artem Bityutskiy","email":"artem.bityutskiy@linux.intel.com","username":"dedekind"},"message":"Patch Set 1:\n\nPatrick, sorry, did not have time to verify them on Tizen PC. I only verified on Tizen IVI a little. Not sure if this is good enough, but this is certainly not ideal.\n\nI put verified with the above diseclimer. If they break something on Tizen PC, you can revert, but I do not expect any breakage."},{"timestamp":1382078167,"reviewer":{"name":"Artem Bityutskiy","email":"artem.bityutskiy@linux.intel.com","username":"dedekind"},"message":"Patch Set 1: Verified+1"},{"timestamp":1382079067,"reviewer":{"name":"Gerrit Code Review","email":"gerrit@review.vlan103.tizen.org"},"message":"Change could not be merged because of a missing dependency.\n\nThe following changes must also be submitted:\n\n* Ib58025b09f7e04e9d303f07fd932a6aaf8552ba7\n"},{"timestamp":1382150528,"reviewer":{"name":"Artem Bityutskiy","email":"artem.bityutskiy@linux.intel.com","username":"dedekind"},"message":"Change has been successfully merged into the git repository."},{"timestamp":1396488967,"reviewer":{"name":"Robot Tizen","username":"tizenrobot"},"message":"Patch Set 1:\n\nA SR (Submit Request) has been triggered to submit the commit to OBS Tizen:IVI:Panda project.\n- Submitter: Graydon, Tracy \u003ctracy.graydon@intel.com\u003e\n- Comments: submit/tizen_ivi_panda/20140403.012117\n- Git project: platform/upstream/system-installer\n- Tag: submit/tizen_ivi_panda/20140403.012117\n- Commit: cbd6b9b4928565e92a8eb7197f1f042e2dbae98b system-installer: improve options handling\n- Request URL: https://build.tizen.org/request/show/25207"},{"timestamp":1396489266,"reviewer":{"name":"Robot Tizen","username":"tizenrobot"},"message":"Patch Set 1:\n\nThe SR (Submit Request) has been accepted to OBS Tizen:IVI:Panda project.\n- Package: system-installer\n- Reviewer: tgraydon\n- Comments: OK\n- Git project: platform/upstream/system-installer\n- Tag:submit/tizen_ivi_panda/20140403.012117\n- Commit: cbd6b9b4928565e92a8eb7197f1f042e2dbae98b system-installer: improve options handling\n- Request URL:https://build.tizen.org/request/show/25207"}]}
{"project":"platform/upstream/system-installer","branch":"tizen","id":"Ib58025b09f7e04e9d303f07fd932a6aaf8552ba7","number":"10737","subject":"system-installer: add copyright and tabs info for vim","owner":{"name":"Artem Bityutskiy","email":"artem.bityutskiy@linux.intel.com","username":"dedekind"},"url":"https://review.tizen.org/gerrit/10737","commitMessage":"system-installer: add copyright and tabs info for vim\n\nChange-Id: Ib58025b09f7e04e9d303f07fd932a6aaf8552ba7\nSigned-off-by: Artem Bityutskiy \u003cartem.bityutskiy@linux.intel.com\u003e\n","createdOn":1381394370,"lastUpdated":1382150528,"sortKey":"00288522000029f1","open":false,"status":"MERGED","comments":[{"timestamp":1381437913,"reviewer":{"name":"Patrick McCarty","email":"patrick.mccarty@linux.intel.com","username":"pmccarty"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1381438381,"reviewer":{"name":"Rusty Lynch","email":"rustylynch1234@gmail.com","username":"rusty"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1381439240,"reviewer":{"name":"william douglas","email":"william.douglas@intel.com","username":"wdouglas"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1381473404,"reviewer":{"name":"Jacek Pielaszkiewicz","email":"j.pielaszkie@samsung.com","username":"jpielaszkie"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1382043397,"reviewer":{"name":"Patrick McCarty","email":"patrick.mccarty@linux.intel.com","username":"pmccarty"},"message":"Patch Set 1: Code-Review+2"},{"timestamp":1382063996,"reviewer":{"name":"Chengwei Yang","email":"chengwei.yang@intel.com","username":"chengwei"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1382078139,"reviewer":{"name":"Artem Bityutskiy","email":"artem.bityutskiy@linux.intel.com","username":"dedekind"},"message":"Patch Set 1: Verified+1\n\nPatrick, sorry, did not have time to verify them on Tizen PC. I only verified on Tizen IVI a little. Not sure if this is good enough, but this is certainly not ideal.\n\nI put verified with the above diseclimer. If they break something on Tizen PC, you can revert, but I do not expect any breakage."},{"timestamp":1382150528,"reviewer":{"name":"Patrick McCarty","email":"patrick.mccarty@linux.intel.com","username":"pmccarty"},"message":"Change has been successfully merged into the git repository."}]}
{"project":"platform/upstream/system-installer","branch":"tizen","id":"Ib360579e1b104d7879f306ea0f88dcc66042b146","number":"10736","subject":"Rename internal configuration variables","owner":{"name":"Artem Bityutskiy","email":"artem.bityutskiy@linux.intel.com","username":"dedekind"},"url":"https://review.tizen.org/gerrit/10736","commitMessage":"Rename internal configuration variables\n\nThis patch renames all the \u0027INSTALLERFW_*\u0027 variables into \u0027CFG_*\u0027 variables.\nThe \"INSTALLERFW_*\" variables come from the \"installer framework concept\", and\nthe way we currently use them do not really fit the concept. So it is better to\nuse a different prefix in order to avoid confusions. Besides, it is a bit\nshorter.\n\nSo, the installer framework concept is basically about running the same scripts\nfrom within different installers. Currently we have 2 installers - MIC and\nsystem-installer. The idea that both export \"INSTALLERFW_*\" variables, and then for\ncommon tasks both execute the same script.\n\nFor example, installing and configuring gummiboot or extlinux to the target\nsystem is something both system-installer and MIC do. There may be a single script\nwhich can be run by both MIC and system-installer for performing this task.\n\nCurrently, system-installer has its own code for configuring extlinux/gummiboot.\nMIC has its own. However, we intend to implement it in a separate,\nindependent script. In fact, Tizen IVI already has it, e.g., see\n\u0027setup-efi-ivi\u0027. And the intention would be to generalize it, make it to be\npart of the \u0027system-installer\u0027 project, and share between Tizen profiles and\nbetween MIC and system-installer. We are not there yet, though, but I am trying to\nget there now.\n\nThus, \"INSTALLERFW_*\" variables have to be _defined_ by system-installer / MIC and\n_exported_ to the environment, and then the independent scripts (which we call\n\"installer plugins\") will use the variable.\n\nTherefore, using \"INSTALLERFW_*\" variables internally is confusing.\n\nNow, at the moment \u0027system-installer\u0027 is a very simple script. It lacks\na lot of auto-discovery functionality, and requires a lot of input information.\nThis information comes from the \u0027/etc/installer.conf\u0027 file. For example,\ninformation like partition table type, count of partitions, mount options, etc,\ncould be automatically discovered.\n\nBut this is all-right, because it is good enough for our purposes, and keeps\nthings simple. We know that the original image is always generated by MIC. And\nwe have the \u0027installer-conf-creator\u0027 script which can generate the\n\u0027installer.conf\u0027 using the installer framework variables that MIC exports.\n\nThis means that \u0027installer-conf-creator\u0027 is actually an installer framework\n_plugin_! We run this plugin from within MIC.\n\nThe \u0027system-installer\u0027 script, on the opposite, is _not_ an installer framework\nplugin. This script is the _installer_, which can itself run installer\nframework plugins.\n\nAnd it is important to understand that the \"INSTALLERFW_*\" variables that MIC\ndefines, and that we then save in \u0027installer.conf\u0027, are _different_ to the\nvariables that we should export. I mean, the values are different!\n\nFor example, in MIC CFG_MOUNT_PREFIX\u003d/, while in system-installer\nCFG_MOUNT_PREFIX\u003d/media/tgttmp.XXXXXX. Similar for many other variables.\n\nI hope this explains why using \u0027INSTALLERFW_*\u0027 variables, which come directly\nfrom MIC, inside system-installer is very confusing.\n\nChange-Id: Ib360579e1b104d7879f306ea0f88dcc66042b146\nSigned-off-by: Artem Bityutskiy \u003cartem.bityutskiy@linux.intel.com\u003e\n","createdOn":1381394370,"lastUpdated":1382078108,"sortKey":"0028806b000029f0","open":false,"status":"MERGED","comments":[{"timestamp":1381437857,"reviewer":{"name":"Patrick McCarty","email":"patrick.mccarty@linux.intel.com","username":"pmccarty"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1381439140,"reviewer":{"name":"william douglas","email":"william.douglas@intel.com","username":"wdouglas"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1381439678,"reviewer":{"name":"Michael Leibowitz","email":"michael.leibowitz@intel.com","username":"mikeleib"},"message":"Patch Set 1:\n\n(1 comment)\n\n+1 would sed again"},{"timestamp":1381473332,"reviewer":{"name":"Jacek Pielaszkiewicz","email":"j.pielaszkie@samsung.com","username":"jpielaszkie"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1382043350,"reviewer":{"name":"Patrick McCarty","email":"patrick.mccarty@linux.intel.com","username":"pmccarty"},"message":"Patch Set 1: Code-Review+2"},{"timestamp":1382043384,"reviewer":{"name":"Patrick McCarty","email":"patrick.mccarty@linux.intel.com","username":"pmccarty"},"message":"Patch Set 1:\n\nplease verify"},{"timestamp":1382078107,"reviewer":{"name":"Artem Bityutskiy","email":"artem.bityutskiy@linux.intel.com","username":"dedekind"},"message":"Patch Set 1: Verified+1\n\nPatrick, sorry, did not have time to verify them on Tizen PC. I only verified on Tizen IVI a little. Not sure if this is good enough, but this is certainly not ideal.\n\nI put verified with the above diseclimer. If they break something on Tizen PC, you can revert, but I do not expect any breakage."},{"timestamp":1382078108,"reviewer":{"name":"Artem Bityutskiy","email":"artem.bityutskiy@linux.intel.com","username":"dedekind"},"message":"Change has been successfully merged into the git repository."}]}
